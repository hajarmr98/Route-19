{"ast":null,"code":"var _jsxFileName = \"/home/hajar/Desktop/Projects/Route-19/src/components/Signup/Signup.js\";\nimport React, { useContext } from 'react';\nimport AuthProvider, { firebaseAuth } from '../../provider/authProvider';\nimport { Container, Button } from 'reactstrap';\nimport { useState } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport './Signup.css';\n\nconst Signup = props => {\n  const [checked, setChecked] = useState(false);\n  const {\n    handleSignup,\n    inputs,\n    setInputs,\n    errors,\n    token\n  } = useContext(firebaseAuth);\n  console.log(token);\n\n  if (token !== null) {\n    props.changeMode();\n  }\n\n  let passwordValid = true;\n  let emailValid = true;\n  let passwordValidTwo = true;\n  let emailValidTwo = true;\n\n  const handleSubmit = async e => {\n    console.log(AuthProvider);\n    e.preventDefault();\n    console.log('handleSubmit');\n    await handleSignup(); //wait to signup \n    //Es asincronía fijo\n    //Si le pones el if y el esle sin el timeout te deja pasar\n    // setTimeout(() => {\n    //   console.log(token)\n    // if( token !== null) { \n    //   props.changeMode()\n    // }\n    // else{\n    //   console.log('se ha ido por el else')\n    // }\n    // }, 10000);\n  };\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    console.log(inputs);\n    setInputs(prev => ({ ...prev,\n      [name]: value\n    }));\n  };\n\n  let translateErrors = errors => {\n    // \"Password should be at least 6 characters\"\n    // \"The email address is badly formatted.\"\n    console.log(errors);\n    let i;\n\n    for (i = 0; i < errors.length; i++) {\n      console.log(typeof errors[i]);\n\n      if (errors[i] == \"The password must be 6 characters long or more.\") {\n        passwordValid = false;\n      } else passwordValid = true;\n\n      if (errors[i] == \"Password should be at least 6 characters\") {\n        passwordValidTwo = false;\n      } else passwordValidTwo = true;\n\n      if (errors[i] == \"The email address is badly formatted.\") {\n        // return <p style={{color: 'red'}}>Introduce un email válido</p>\n        emailValid = false;\n      } else emailValid = true;\n\n      if (errors[i] == \"The email address is already in use by another account.\") {\n        // return <p style={{color: 'red'}}>Introduce un email válido</p>\n        emailValidTwo = false;\n      } else emailValidTwo = true;\n    }\n\n    console.log(errors);\n  };\n\n  let checkbox = e => {\n    console.log(e.target.checked);\n\n    if (e.target.checked) {\n      setChecked(true);\n      console.log('entre');\n      console.log(checked);\n    } else {\n      setChecked(false);\n      console.log('me fui');\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    className: \"signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    method: \"POST\",\n    className: \"signup-form\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    id: \"signup-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }\n  }, \"Registro\"), /*#__PURE__*/React.createElement(\"label\", {\n    for: \"name\",\n    id: \"name-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }, \"Nombre\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"name\",\n    name: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    for: \"email-signup\",\n    id: \"email-singup-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }\n  }, \"Correo electr\\xF3nico\"), translateErrors(errors), /*#__PURE__*/React.createElement(\"input\", {\n    className: !emailValid || !emailValidTwo ? \"input-error email-signup\" : \"email-signup\",\n    onChange: handleChange,\n    name: \"email\",\n    placeholder: \"ejemplo@dominio.com\",\n    value: inputs.email,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }\n  }), !emailValid ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"alert-image\",\n    src: \"images/triangle_alert.svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 50\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 117\n    }\n  }, \"Introduce un email v\\xE1lido\"), \" \") : '', !emailValidTwo ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"alert-image\",\n    src: \"images/triangle_alert.svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 53\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"alert-p\",\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 120\n    }\n  }, \"Este email ya est\\xE1 siendo utilizado\")) : '', /*#__PURE__*/React.createElement(\"label\", {\n    for: \"password-signup\",\n    id: \"password-signup-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }\n  }, \"Contrase\\xF1a de seis caracteres\"), /*#__PURE__*/React.createElement(\"p\", {\n    id: \"password-signup-label-second\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }\n  }, \"(Debe contener n\\xFAmeros y letras)\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: !passwordValid || !passwordValidTwo ? \"input-error password-signup\" : \"password-signup\",\n    onChange: handleChange,\n    type: \"password\",\n    name: \"password\",\n    value: inputs.password,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }\n  }), !passwordValid ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"alert-image\",\n    src: \"images/triangle_alert.svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 53\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"alert-p\",\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 120\n    }\n  }, \"Introduce una contrase\\xF1a\")) : '', !passwordValidTwo ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 28\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"alert-image\",\n    src: \"images/triangle_alert.svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 56\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"alert-p\",\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 123\n    }\n  }, \"La contrase\\xF1a es menor de 6 caracteres\")) : '', /*#__PURE__*/React.createElement(\"label\", {\n    for: \"repeatpassword-signup\",\n    id: \"repeatpassword-signup-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }\n  }, \"Confirmar contrase\\xF1a\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"repeatpassword-signup\",\n    type: \"password\",\n    name: \"repeatpassword-signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"checkbox-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    onChange: checkbox,\n    id: \"checkbox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }\n  }), console.log(checked), /*#__PURE__*/React.createElement(\"label\", {\n    id: \"checkbox-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }\n  }, \" Marcando esta casilla aceptas las condiciones del servicio. Para m\\xE1s informaci\\xF3n puede ir a \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 127\n    }\n  }), /*#__PURE__*/React.createElement(\"u\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"https://policies.google.com/privacy?hl=es\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 12\n    }\n  }, \"Pol\\xEDticas de Privacidad.\")))), /*#__PURE__*/React.createElement(Button, {\n    id: checked ? \"signup-button\" : \"signup-button-disabled\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }\n  }, \"Confirmar registro\")));\n};\n\nexport default withRouter(Signup);","map":{"version":3,"sources":["/home/hajar/Desktop/Projects/Route-19/src/components/Signup/Signup.js"],"names":["React","useContext","AuthProvider","firebaseAuth","Container","Button","useState","withRouter","Signup","props","checked","setChecked","handleSignup","inputs","setInputs","errors","token","console","log","changeMode","passwordValid","emailValid","passwordValidTwo","emailValidTwo","handleSubmit","e","preventDefault","handleChange","name","value","target","prev","translateErrors","i","length","checkbox","email","color","password"],"mappings":"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","sourcesContent":["import React, {useContext} from 'react';\nimport AuthProvider,{firebaseAuth} from '../../provider/authProvider'\nimport { Container, Button } from 'reactstrap';\nimport { useState } from 'react';\nimport {withRouter} from 'react-router-dom'\nimport './Signup.css'\n\n\nconst Signup = (props) => {\n\n  const [checked, setChecked] = useState(false)\n  \n\n  const {handleSignup, inputs, setInputs, errors, token} = useContext(firebaseAuth)\n  console.log(token)\n  if( token !== null) { \n    props.changeMode()\n  }\n  \n\n  let passwordValid = true\n  let emailValid = true\n  let passwordValidTwo = true\n  let emailValidTwo = true\n\n  const handleSubmit = async (e) => {\n    console.log(AuthProvider)\n    e.preventDefault()\n    console.log('handleSubmit')\n    await handleSignup()\n    \n    //wait to signup \n      //Es asincronía fijo\n      //Si le pones el if y el esle sin el timeout te deja pasar\n          // setTimeout(() => {\n          //   console.log(token)\n          // if( token !== null) { \n          //   props.changeMode()\n          // }\n          // else{\n          //   console.log('se ha ido por el else')\n          // }\n          // }, 10000);\n    \n  }\n\n\n\n  const handleChange = e => {\n    const {name, value} = e.target\n    console.log(inputs)\n    setInputs(prev => ({...prev, [name]: value}))\n  }\n  let translateErrors = (errors) => {\n    // \"Password should be at least 6 characters\"\n    // \"The email address is badly formatted.\"\n    console.log(errors)\n    let i;\n    for (i = 0; i < errors.length; i++){\n      console.log(typeof errors[i])\n      if(errors[i] == \"The password must be 6 characters long or more.\") {\n        passwordValid = false\n\n      }else(passwordValid = true)\n\n      if(errors[i] == \"Password should be at least 6 characters\" ){\n        passwordValidTwo = false\n\n      }else(passwordValidTwo = true)\n\n      if(errors[i] == \"The email address is badly formatted.\"){\n        // return <p style={{color: 'red'}}>Introduce un email válido</p>\n        emailValid = false\n      }\n      else(\n        emailValid = true\n      )\n      if(errors[i] == \"The email address is already in use by another account.\"){\n        // return <p style={{color: 'red'}}>Introduce un email válido</p>\n        emailValidTwo = false\n      }\n      else(\n        emailValidTwo = true\n      )\n\n    }\n      console.log(errors)\n  }\n\n  let checkbox = (e) => {\n    console.log(e.target.checked)\n    if(e.target.checked){\n      setChecked(true)\n      console.log('entre')\n      console.log(checked)\n    }\n    else {\n      setChecked(false)\n      console.log('me fui')\n    }\n  }\n\n  return (\n    <Container className=\"signup\">\n  \n    <form method=\"POST\" className=\"signup-form\" onSubmit={handleSubmit}>\n     \n      <h3 id=\"signup-title\">Registro</h3>\n      \n      <label for=\"name\" id=\"name-label\">Nombre</label>\n      <input id=\"name\" name=\"name\"></input>\n\n      <label for=\"email-signup\" id=\"email-singup-label\">Correo electrónico</label>\n\n      {translateErrors(errors)}\n      <input className={!emailValid || !emailValidTwo ? \"input-error email-signup\" : \"email-signup\"} onChange={handleChange} name=\"email\"  placeholder=\"ejemplo@dominio.com\" value={inputs.email} />\n      \n      \n      {!emailValid ? <div className=\"alert-form\"><img className=\"alert-image\" src=\"images/triangle_alert.svg\"></img><p style={{color: 'red'}}>Introduce un email válido</p> </div>: ''}\n      {!emailValidTwo ? <div className=\"alert-form\"><img className=\"alert-image\" src=\"images/triangle_alert.svg\"></img><p className=\"alert-p\" style={{color: 'red'}}>Este email ya está siendo utilizado</p></div> : ''}\n\n\n      <label for=\"password-signup\" id=\"password-signup-label\">Contraseña de seis caracteres</label>\n      <p id=\"password-signup-label-second\">(Debe contener números y letras)</p>\n      <input className={!passwordValid || !passwordValidTwo ? \"input-error password-signup\" : \"password-signup\"} onChange={handleChange} type=\"password\" name=\"password\" value={inputs.password} />\n      {!passwordValid ? <div className=\"alert-form\"><img className=\"alert-image\" src=\"images/triangle_alert.svg\"></img><p className=\"alert-p\" style={{color: 'red'}}>Introduce una contraseña</p></div> : ''}\n      {!passwordValidTwo ? <div className=\"alert-form\"><img className=\"alert-image\" src=\"images/triangle_alert.svg\"></img><p className=\"alert-p\" style={{color: 'red'}}>La contraseña es menor de 6 caracteres</p></div>: ''}\n     \n      <label for=\"repeatpassword-signup\" id=\"repeatpassword-signup-label\">Confirmar contraseña</label>\n      <input className=\"repeatpassword-signup\" type=\"password\" name=\"repeatpassword-signup\"></input>\n      \n      \n      {/* {errors.length > 0 ? errors.map(error => <p style={{color: 'red'}}>{error}</p> ) : null} */}\n\n      <div id=\"checkbox-container\">\n      <input type=\"checkbox\" onChange={checkbox} id=\"checkbox\"></input>\n      {console.log(checked)}\n \n      <label id=\"checkbox-label\"> Marcando esta casilla aceptas las condiciones del servicio. Para más información puede ir a <br></br>\n        <u><a href=\"https://policies.google.com/privacy?hl=es\">Políticas de Privacidad.</a></u></label>\n      </div>\n      <Button id={ checked ? \"signup-button\" : \"signup-button-disabled\"}>Confirmar registro</Button>\n    </form>\n    \n    </Container>\n  );\n};\n\nexport default withRouter(Signup);"]},"metadata":{},"sourceType":"module"}