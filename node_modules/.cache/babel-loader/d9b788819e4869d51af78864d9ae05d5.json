{"ast":null,"code":"var _jsxFileName = \"/home/hajar/Desktop/Projects/Route-19/src/components/MapContainer/MapContainer.js\";\nimport React, { Component } from 'react';\nimport './MapContainer.css';\nimport { firebaseAuth } from '../../provider/authProvider.js';\nimport SubContext from '../../contexts/SubContext.js';\nimport MapA from '../Map/MapA.js';\nimport MapB from '../Map/MapB.js';\nimport MapB1 from '../Map/MapB1.js';\nimport SearchDestinyBtn from '../SearchDestinyBtn/SearchDestinyBtn.js';\nimport SearchBar from '../SearchBar/SearchBar.js';\nimport NavBar from '../NavBarTrue/NavBar.js';\nimport GeoPopup from '../Geopopup/GeoPopup.js';\nimport NewCover from '../NewCover/NewCover.js';\nimport Onboarding from '../NewOnboarding/Onboarding.js';\nimport Location from '../Location/Location.js';\nimport Cookies from '../Cookies/Cookies.js';\nimport Access from '../Access/Access.js';\nimport GoBack from '../GoBack/GoBack';\nimport Signup from '../Signup/Signup.js';\nimport Signin from '../SignIn/SignIn.js';\nimport ConfirmSignup from '../ConfirmSignup/ConfirmSignup.js'; // import CookiesConsent from '../CookiesConsent/CookiesConsent'\n\nimport Alert from '../Alert/Alert';\nimport MapTrial from '../Map/MapTrial.js';\n\nclass MapContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.toggleRedLayerState = () => {\n      this.setState(prevState => {\n        console.log(this.state.RedLayer);\n        return {\n          RedLayer: !prevState.RedLayer\n        };\n      });\n    };\n\n    this.toggleGreenLayerState = () => {\n      this.setState(prevState => {\n        console.log(this.state.GreenLayer);\n        return {\n          GreenLayer: !prevState.GreenLayer\n        };\n      });\n    };\n\n    this.state = {\n      mode: 0,\n      logged: false,\n      RedLayer: true,\n      GreenLayer: true,\n      UserCoor: [],\n      Origin: null,\n      Destiny: null\n    };\n    this.setMode = this.setMode.bind(this);\n    this.changeMode = this.changeMode.bind(this);\n    this.getOriginCoor = this.getOriginCoor.bind(this);\n    this.getDestinyCoor = this.getDestinyCoor.bind(this);\n    this.getPosition = this.getPosition.bind(this);\n    this.getLayersState = {\n      Red: this.getLayersState.bind(this),\n      Green: this.getLayersState2.bind(this)\n    };\n  }\n\n  componentDidMount() {\n    console.log(\"MAP CONTAINER DID MOUNT\");\n  }\n\n  getPosition() {\n    let lat, lon;\n\n    if ('geolocation' in navigator) {\n      navigator.geolocation.getCurrentPosition(position => {\n        let lat = position.coords.latitude;\n        let lon = position.coords.longitude;\n        this.setState({ ...this.state,\n          mode: 5,\n          UserCoor: [lon, lat]\n        });\n      });\n    } else {\n      alert(\"Geolocation is not supported by this browser.\");\n    }\n  }\n\n  changeMode() {\n    if (this.state.mode === 1) {\n      this.setState({ ...this.state,\n        mode: 3\n      });\n    } else {\n      this.setState({ ...this.state,\n        mode: this.state.mode += 1\n      });\n    }\n  }\n\n  skipMode() {\n    this.setState({ ...this.state,\n      mode: this.state.mode += 2\n    });\n  }\n\n  componentDidUpdate() {\n    console.log(\"Component did mount in mode:\", this.state.mode);\n  }\n\n  setMode(newMode) {\n    this.setState({ ...this.state,\n      mode: newMode\n    });\n  }\n\n  getOriginCoor(OriginCoordinate) {\n    this.setState({ ...this.state,\n      Origin: OriginCoordinate\n    });\n  }\n\n  getDestinyCoor(DestinyCoordinate) {\n    this.setState({ ...this.state,\n      Destiny: DestinyCoordinate\n    });\n  }\n\n  async getLayersState(layerState) {\n    await console.log(\"getLayersState se ejecuta?\");\n    this.toggleRedLayerState();\n  }\n\n  async getLayersState2(layerState) {\n    await console.log(\"getLayersState2 se ejecuta?\");\n    this.toggleGreenLayerState();\n  }\n\n  loadMenu() {\n    if (this.state.mode === 0) {\n      console.log(\"NO HAY MENU\");\n    } else if (this.state.mode > 7 && this.state.mode < 11) {\n      return /*#__PURE__*/React.createElement(NavBar, {\n        mode: this.state.mode,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 18\n        }\n      });\n    } else if (this.state.mode === 11 && (!this.state.Origin || !this.state.Destiny)) {\n      console.log(\"MAPA EN MODO 11 OSEA MAPA B1\"); // return <NavBar />\n    } else if (this.state.mode == 11 && this.state.Origin && this.state.Destiny) {\n      console.log(\"SIN MENU\");\n    } else {\n      console.log(\"SIN MENU\");\n    }\n  }\n\n  loadMode() {\n    if (this.state.mode === 0) {\n      return /*#__PURE__*/React.createElement(NewCover, {\n        mode: this.state.mode,\n        changeMode: this.changeMode.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 18\n        }\n      });\n    } else if (this.state.mode === 1) {\n      return /*#__PURE__*/React.createElement(Onboarding, {\n        mode: this.state.mode,\n        changeMode: this.changeMode.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 18\n        }\n      });\n    } else if (this.state.mode === 2) {\n      return /*#__PURE__*/React.createElement(Cookies, {\n        mode: this.state.mode,\n        changeMode: this.changeMode.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 18\n        }\n      });\n    } else if (this.state.mode === 3) {\n      return /*#__PURE__*/React.createElement(GeoPopup, {\n        mode: this.state.mode,\n        setMode: this.setMode,\n        getPosition: this.getPosition.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 18\n        }\n      });\n    } else if (this.state.mode === 4) {\n      return /*#__PURE__*/React.createElement(Location, {\n        mode: this.state.mode,\n        changeMode: this.changeMode.bind(this),\n        getPosition: this.getPosition.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 18\n        }\n      });\n    } else if (this.state.mode === 5) {\n      return /*#__PURE__*/React.createElement(Access, {\n        mode: this.state.mode,\n        setMode: this.setMode,\n        changeMode: this.changeMode.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 18\n        }\n      });\n    } else if (this.state.mode === 6) {\n      return /*#__PURE__*/React.createElement(Signup, {\n        mode: this.state.mode,\n        changeMode: this.changeMode,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 17\n        }\n      });\n    } else if (this.state.mode === 7) {\n      return /*#__PURE__*/React.createElement(ConfirmSignup, {\n        mode: this.state.mode,\n        setMode: this.setMode,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 18\n        }\n      });\n    } else if (this.state.mode === 8) {\n      return /*#__PURE__*/React.createElement(Signin, {\n        mode: this.state.mode,\n        setMode: this.setMode,\n        changeMode: this.changeMode,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 18\n        }\n      });\n    } else if (this.state.mode === 9) {\n      return /*#__PURE__*/React.createElement(SearchDestinyBtn, {\n        style: 'search',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 18\n        }\n      });\n    } else if (this.state.mode === 10) {\n      return /*#__PURE__*/React.createElement(SearchBar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 18\n        }\n      });\n    } else if (this.state.mode === 11 && this.state.Origin && this.state.Destiny) {\n      // return <TrySwitch parentCallBack={this.getLayersState}/>\n      return /*#__PURE__*/React.createElement(GoBack, {\n        setMode: this.setMode,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 18\n        }\n      });\n    } else if (this.state.mode === 11 && (!this.state.Origin || !this.state.Destiny)) {\n      return /*#__PURE__*/React.createElement(Alert, {\n        setMode: this.setMode,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 18\n        }\n      });\n    } else if (this.state.mode === 12) {\n      return /*#__PURE__*/React.createElement(SearchDestinyBtn, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 18\n        }\n      });\n    } else {\n      console.log(\"El modo 0\");\n    }\n  }\n\n  loadMap() {\n    if (this.state.mode < 6 && this.state.mode > 0) {\n      return /*#__PURE__*/React.createElement(MapA, {\n        className: \"Map\",\n        layers: this.state,\n        map: this.state,\n        UserCoor: this.state,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 20\n        }\n      });\n    } else if (this.state.mode === 9) {\n      console.log(\"MAPA EN MODO 9 OSEA MAPA B\");\n      return /*#__PURE__*/React.createElement(MapB, {\n        className: \"Map\",\n        layers: this.state,\n        UserCoor: this.state.UserCoor,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 20\n        }\n      });\n    } else if (this.state.mode === 11 && this.state.Origin && this.state.Destiny) {\n      console.log(\"MAPA EN MODO 11 OSEA MAPA B1\");\n      return /*#__PURE__*/React.createElement(MapTrial, {\n        className: \"Map\",\n        layers: this.state,\n        UserCoor: this.state.UserCoor,\n        Origin: this.state.Origin,\n        Destiny: this.state.Destiny,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 20\n        }\n      });\n    } else if (this.state.mode === 11 && (!this.state.Origin || !this.state.Destiny)) {// return <SearchBar />\n    } else if (this.state.mode === 12) {\n      console.log(\"MAPA EN MODO 12 OSEA MAPA C - SIN RUTA\");\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        margin: 'auto'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(SubContext.Provider, {\n      value: {\n        UserCoor: this.state.UserCoor,\n        setMode: this.setMode,\n        getOriginCoor: this.getOriginCoor,\n        getDestinyCoor: this.getDestinyCoor\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 7\n      }\n    }, this.loadMenu(), this.loadMode(), this.loadMap()));\n  }\n\n}\n\nMapContainer.contextType = firebaseAuth;\nexport default MapContainer;","map":{"version":3,"sources":["/home/hajar/Desktop/Projects/Route-19/src/components/MapContainer/MapContainer.js"],"names":["React","Component","firebaseAuth","SubContext","MapA","MapB","MapB1","SearchDestinyBtn","SearchBar","NavBar","GeoPopup","NewCover","Onboarding","Location","Cookies","Access","GoBack","Signup","Signin","ConfirmSignup","Alert","MapTrial","MapContainer","constructor","props","toggleRedLayerState","setState","prevState","console","log","state","RedLayer","toggleGreenLayerState","GreenLayer","mode","logged","UserCoor","Origin","Destiny","setMode","bind","changeMode","getOriginCoor","getDestinyCoor","getPosition","getLayersState","Red","Green","getLayersState2","componentDidMount","lat","lon","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","alert","skipMode","componentDidUpdate","newMode","OriginCoordinate","DestinyCoordinate","layerState","loadMenu","loadMode","loadMap","render","margin","contextType"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport './MapContainer.css'\nimport {firebaseAuth} from '../../provider/authProvider.js'\nimport SubContext from '../../contexts/SubContext.js'\nimport MapA from '../Map/MapA.js'\nimport MapB from '../Map/MapB.js'\nimport MapB1 from '../Map/MapB1.js'\nimport SearchDestinyBtn from '../SearchDestinyBtn/SearchDestinyBtn.js'\nimport SearchBar from '../SearchBar/SearchBar.js'\nimport NavBar from '../NavBarTrue/NavBar.js'\nimport GeoPopup from '../Geopopup/GeoPopup.js'\nimport NewCover from '../NewCover/NewCover.js'\nimport Onboarding from '../NewOnboarding/Onboarding.js'\nimport Location from '../Location/Location.js'\nimport Cookies from '../Cookies/Cookies.js'\nimport Access from '../Access/Access.js'\nimport GoBack from '../GoBack/GoBack'\nimport Signup from '../Signup/Signup.js'\nimport Signin from '../SignIn/SignIn.js'\nimport ConfirmSignup from '../ConfirmSignup/ConfirmSignup.js'\n// import CookiesConsent from '../CookiesConsent/CookiesConsent'\nimport Alert from '../Alert/Alert'\n\nimport MapTrial from '../Map/MapTrial.js'\n\n\nclass MapContainer extends Component{\n  \n  static contextType = firebaseAuth\n\n  constructor(props){\n    super(props)\n    this.state = {\n      mode: 0,\n      logged: false,\n      RedLayer : true,\n      GreenLayer : true,\n      UserCoor: [],\n      Origin: null,\n      Destiny: null\n    }\n    this.setMode = this.setMode.bind(this)\n    this.changeMode = this.changeMode.bind(this)\n    this.getOriginCoor = this.getOriginCoor.bind(this)\n    this.getDestinyCoor = this.getDestinyCoor.bind(this)\n    this.getPosition = this.getPosition.bind(this)\n    this.getLayersState = {\n      Red: this.getLayersState.bind(this),\n      Green: this.getLayersState2.bind(this)\n    }\n  }\n\n  componentDidMount(){\n    console.log(\"MAP CONTAINER DID MOUNT\")\n  }\n\n  getPosition(){\n    let lat, lon;\n        if ('geolocation' in navigator) {\n          navigator.geolocation.getCurrentPosition((position) =>{\n            let lat = position.coords.latitude\n            let lon = position.coords.longitude\n            this.setState({\n                    ...this.state,\n                    mode: 5,\n                    UserCoor: [lon, lat]\n                  })\n          })\n        } else {\n          alert(\"Geolocation is not supported by this browser.\")\n        }\n      }\n\n      changeMode() {\n        if(this.state.mode === 1){\n          this.setState({...this.state, mode: 3})\n        }\n        else{\n          this.setState({...this.state, mode: this.state.mode += 1})\n        } \n      }\n\n      skipMode() {\n        this.setState({\n          ...this.state,\n          mode: this.state.mode += 2\n        })\n      }\n\n      componentDidUpdate() {\n        console.log(\"Component did mount in mode:\", this.state.mode)\n      }\n\n      setMode(newMode) {\n        this.setState({\n          ...this.state,\n          mode: newMode\n        })\n      }\n\n      getOriginCoor(OriginCoordinate){\n        this.setState({\n          ...this.state,\n          Origin: OriginCoordinate,\n        })\n      }\n\n      getDestinyCoor(DestinyCoordinate){\n        this.setState({\n          ...this.state,\n          Destiny: DestinyCoordinate\n        })\n      }\n\n    async getLayersState(layerState){\n        await console.log(\"getLayersState se ejecuta?\")\n        this.toggleRedLayerState()\n    }\n\n    async getLayersState2(layerState){\n        await console.log(\"getLayersState2 se ejecuta?\")\n        this.toggleGreenLayerState()\n    }\n\n    toggleRedLayerState =() => {\n      this.setState( prevState => {\n          console.log(this.state.RedLayer)\n          return { RedLayer: !prevState.RedLayer }\n      })\n  }\n    toggleGreenLayerState =() => {\n      this.setState( prevState => {\n          console.log(this.state.GreenLayer)\n          return { GreenLayer: !prevState.GreenLayer }\n      })\n  }\n\n      loadMenu(){\n        if(this.state.mode === 0){\n          console.log(\"NO HAY MENU\")\n        }\n        else if(this.state.mode > 7 && this.state.mode < 11){\n          return <NavBar mode={this.state.mode}/>\n        }\n        else if(this.state.mode === 11 && (!this.state.Origin || !this.state.Destiny)){\n          console.log(\"MAPA EN MODO 11 OSEA MAPA B1\")\n          // return <NavBar />\n        }\n        else if(this.state.mode == 11 && this.state.Origin && this.state.Destiny){\n          console.log(\"SIN MENU\")\n     }\n        else{\n            console.log(\"SIN MENU\")\n        }\n      }\n      loadMode() {\n        if(this.state.mode === 0) {\n          return <NewCover  mode={this.state.mode} changeMode={this.changeMode.bind(this)}></NewCover>\n        }\n        else if(this.state.mode === 1) {\n          return <Onboarding  mode={this.state.mode} changeMode={this.changeMode.bind(this)}></Onboarding>\n        }\n        else if(this.state.mode === 2) {\n          return <Cookies mode={this.state.mode} changeMode={this.changeMode.bind(this)}></Cookies>  \n        }\n        else if(this.state.mode === 3) {\n          return <GeoPopup  mode={this.state.mode} setMode={this.setMode} getPosition={this.getPosition.bind(this)}></GeoPopup>\n        }\n        else if(this.state.mode === 4) {\n          return <Location mode={this.state.mode} changeMode={this.changeMode.bind(this)} getPosition={this.getPosition.bind(this)}></Location> \n        }\n        else if(this.state.mode === 5) {\n          return <Access mode={this.state.mode} setMode={this.setMode} changeMode={this.changeMode.bind(this)}></Access> \n        }\n        else if(this.state.mode === 6) {\n         return <Signup mode={this.state.mode} changeMode={this.changeMode}></Signup> \n        }\n        else if(this.state.mode === 7) {\n          return <ConfirmSignup mode={this.state.mode} setMode={this.setMode}></ConfirmSignup> \n         }\n        else if(this.state.mode === 8) {\n          return <Signin mode={this.state.mode} setMode={this.setMode} changeMode={this.changeMode}></Signin> \n        }\n        else if(this.state.mode === 9 ){\n          return <SearchDestinyBtn style={'search'}/>\n        }\n        else if(this.state.mode === 10 ){\n          return <SearchBar />\n        }\n        else if(this.state.mode === 11 && this.state.Origin && this.state.Destiny){\n          // return <TrySwitch parentCallBack={this.getLayersState}/>\n          return <GoBack setMode={this.setMode}/>\n        }\n        else if(this.state.mode === 11 && (!this.state.Origin || !this.state.Destiny)){\n          return <Alert setMode={this.setMode}/>\n        }\n        else if(this.state.mode === 12 ){\n          return <SearchDestinyBtn />\n        }\n        else{console.log(\"El modo 0\")}\n      }\n      \n      loadMap(){\n          if(this.state.mode < 6 && this.state.mode > 0){\n            return <MapA className=\"Map\" layers={this.state} map={this.state} UserCoor={this.state}/>\n          }\n          else if(this.state.mode === 9 ){\n            console.log(\"MAPA EN MODO 9 OSEA MAPA B\")\n            return <MapB className=\"Map\" layers={this.state} UserCoor={this.state.UserCoor}/>       \n          }\n          else if(this.state.mode === 11 && this.state.Origin && this.state.Destiny){\n            console.log(\"MAPA EN MODO 11 OSEA MAPA B1\")\n            return <MapTrial className=\"Map\" layers={this.state} UserCoor={this.state.UserCoor} Origin={this.state.Origin} Destiny={this.state.Destiny}/>       \n          }\n          else if(this.state.mode === 11 && (!this.state.Origin || !this.state.Destiny)){\n            // return <SearchBar />\n          }\n          else if (this.state.mode ===12){\n            console.log(\"MAPA EN MODO 12 OSEA MAPA C - SIN RUTA\")\n          }\n      }\n\nrender(){\n  return(\n    <div style={{margin: 'auto'}}>\n      {/* <CookiesConsent style={{position: 'sticky', zIndex: 3}}/> */}\n      <SubContext.Provider value={{UserCoor: this.state.UserCoor, setMode: this.setMode, getOriginCoor: this.getOriginCoor, getDestinyCoor: this.getDestinyCoor}}>\n        {this.loadMenu()}\n        {this.loadMode()}\n        {this.loadMap()}\n        \n      </SubContext.Provider>\n    </div>\n  )\n}\n\n}\nexport default MapContainer"]},"metadata":{},"sourceType":"module"}